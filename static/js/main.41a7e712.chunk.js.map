{"version":3,"sources":["images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeletePopup.js","components/ImagePopup.js","components/Login.js","components/Register.js","images/success-icon.svg","images/error-icon.svg","components/InfoTooltip.js","components/ProtectedRoute.js","utils/Api.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","location","useLocation","className","href","src","logo","alt","loggedIn","email","to","onClick","onSignOut","pathname","CurrentUserContext","React","createContext","Card","currentUser","useContext","cardDeleteButtonClassName","card","owner","_id","cardLikeButtonClassName","likes","some","like","type","onCardDelete","link","name","onCardClick","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","Footer","PopupWithForm","isOpen","onSubmit","title","children","isLoading","loadingButtonText","buttonText","onClose","EditProfilePopup","useState","setName","description","setDescription","useEffect","buttonHide","evt","preventDefault","onUpdateUser","id","placeholder","required","minLength","maxLength","value","onChange","target","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","ref","AddPlacePopup","setLink","ConfirmDeletePopup","ImagePopup","Login","setEmail","password","setPassword","onAuthorization","Register","onRegistration","InfoTooltip","onState","successIcon","errorIcon","ProtectedRoute","api","options","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_handleResponse","data","method","body","JSON","stringify","isLiked","authorization","BASE_URL","handleResponse","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmDeletePopupOpen","setIsConfirmDeletePopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","isLoadingButtontext","setIsLoadingButtontext","cardToRemove","setCardToRemove","selectedCard","setSelectedCard","setCurrentUser","setCards","isSuccess","setIsSuccess","setLoggedIn","navigate","useNavigate","closeAllPopups","getInitialCards","catch","err","console","log","getUserInfo","handleEscClose","key","document","addEventListener","removeEventListener","token","localStorage","getItem","Authorization","auth","handleTokenCheck","Provider","removeItem","path","element","setItem","i","changeLikeCardStatus","newCard","state","c","setUserInfo","finally","postCard","changeAvatar","removeCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"gOAAe,MAA0B,wC,OC8B1BA,MA1Bf,SAAgBC,GACd,IAAMC,EAAWC,cAEjB,OACE,yBAAQC,UAAU,SAAlB,UACE,mBAAGC,KAAK,+CAAR,SACE,qBAAKC,IAAKC,EAAMH,UAAU,eAAeI,IAAI,iDAE9CP,EAAMQ,SACL,sBAAKL,UAAU,kBAAf,UACE,mBAAGA,UAAU,gBAAb,SAA8BH,EAAMS,QACpC,cAAC,IAAD,CAAMN,UAAU,oCAAoCO,GAAG,WAAWC,QAASX,EAAMY,UAAjF,+CAGF,mCACyB,aAAtBX,EAASY,SACR,cAAC,IAAD,CAAMV,UAAU,eAAeO,GAAG,WAAlC,gFACA,cAAC,IAAD,CAAMP,UAAU,eAAeO,GAAG,WAAlC,kDCnBCI,EAAqBC,IAAMC,gBCqCzBC,MApCf,SAAcjB,GAEZ,IAAMkB,EAAcH,IAAMI,WAAWL,GAE/BM,EADQpB,EAAMqB,KAAKC,MAAMC,MAAQL,EAAYK,IACT,iDAAmD,sBAEvFC,EADUxB,EAAMqB,KAAKI,MAAMC,MAAK,SAAAC,GAAI,OAAIA,EAAKJ,MAAQL,EAAYK,OAC7B,6CAA+C,oBAezF,OACE,sBAAKpB,UAAU,OAAf,UACE,wBAAQyB,KAAK,SAASjB,QAN1B,WACEX,EAAM6B,aAAa7B,EAAMqB,OAK2BlB,UAAWiB,EAA2B,aAAW,gGACnG,qBAAKf,IAAKL,EAAMqB,KAAKS,KAAMvB,IAAKP,EAAMqB,KAAKU,KAAM5B,UAAU,cAAcQ,QAf7E,WACEX,EAAMgC,YAAYhC,EAAMqB,SAetB,sBAAKlB,UAAU,gBAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+BH,EAAMqB,KAAKU,OAC1C,sBAAK5B,UAAU,uBAAf,UACE,wBAAQyB,KAAK,SAASjB,QAf9B,WACEX,EAAMiC,WAAWjC,EAAMqB,OAc+BlB,UAAWqB,EAAyB,aAAW,oFAC/F,sBAAMrB,UAAU,qBAAhB,SAAsCH,EAAMqB,KAAKI,MAAMS,mBCQlDC,MApCf,SAAcnC,GAEZ,IAAMkB,EAAcH,IAAMI,WAAWL,GAErC,OACE,uBAAMX,UAAU,UAAhB,UAEE,0BAASA,UAAU,UAAnB,UACE,sBAAKA,UAAU,4BAAf,UACE,wBAAQyB,KAAK,SAASzB,UAAU,gCAAgC,aAAW,wFAAkBQ,QAASX,EAAMoC,eAC5G,qBAAK7B,IAAI,uCAASJ,UAAU,kBAAkBE,IAAKa,EAAYmB,YAEjE,sBAAKlC,UAAU,gBAAf,UACE,oBAAIA,UAAU,iBAAd,SAAgCe,EAAYa,OAC5C,wBAAQH,KAAK,SAASzB,UAAU,uBAAuB,aAAW,4HAAwBQ,QAASX,EAAMsC,gBACzG,mBAAGnC,UAAU,oBAAb,SAAkCe,EAAYqB,WAEhD,wBAAQX,KAAK,SAASzB,UAAU,sBAAsB,aAAW,gHAAsBQ,QAASX,EAAMwC,gBAGxG,0BAASrC,UAAU,QAAnB,UACGH,EAAMyC,MAAMC,KAAI,SAACrB,GAAD,OACf,cAAC,EAAD,CAEEA,KAAMA,EACNW,YAAahC,EAAMgC,YACnBC,WAAYjC,EAAMiC,WAClBJ,aAAc7B,EAAM6B,cAJfR,EAAKE,QAHhB,WCdSoB,MARf,WACE,OACE,wBAAQxC,UAAU,SAAlB,SACE,mBAAGA,UAAU,oBAAb,uCCYSyC,MAff,SAAuB5C,GACrB,OACE,qBAAKG,UAAWH,EAAM6C,OAAN,gDAA0D7C,EAAM+B,MAAhF,SACE,sBAAK5B,UAAU,mBAAf,UACE,uBAAMA,UAAU,iBAAiB4B,KAAM/B,EAAM+B,KAAMe,SAAU9C,EAAM8C,SAAnE,UACE,oBAAI3C,UAAU,gBAAd,SAA+BH,EAAM+C,QACpC/C,EAAMgD,SACP,wBAAQpB,KAAK,SAASzB,UAAU,sBAAhC,SAAuDH,EAAMiD,UAAYjD,EAAMkD,kBAAoBlD,EAAMmD,gBAE3G,wBAAQvB,KAAK,SAASzB,UAAU,sBAAsB,aAAW,6CAAUQ,QAASX,EAAMoD,gBC0CnFC,MAjDf,SAA0BrD,GAExB,MAAwBe,IAAMuC,SAAS,IAAvC,mBAAOvB,EAAP,KAAawB,EAAb,KACA,EAAsCxC,IAAMuC,SAAS,IAArD,mBAAOE,EAAP,KAAoBC,EAApB,KACMvC,EAAcH,IAAMI,WAAWL,GAyBpC,OAPDC,IAAM2C,WAAU,WACVxC,IACFqC,EAAQrC,EAAYa,MACpB0B,EAAevC,EAAYqB,UAE5B,CAACrB,IAGF,eAAC,EAAD,CACEa,KAAK,eACLgB,MAAM,4HACNI,WAAW,yDACXD,kBAAkB,kEAClBS,YAAY,EACZd,OAAQ7C,EAAM6C,OACdO,QAASpD,EAAMoD,QACfN,SAxBJ,SAAsBc,GACpBA,EAAIC,iBACJ7D,EAAM8D,aAAa,CACjB/B,KAAMA,EACNQ,MAAOiB,KAqBPP,UAAWjD,EAAMiD,UATnB,UAWE,uBAAOc,GAAG,aAAanC,KAAK,OAAOzB,UAAU,qCAAqC4B,KAAK,OAAOiC,YAAY,gEAAcC,UAAQ,EAACC,UAAU,IAAIC,UAAU,KAAKC,MAAOrC,GAAQ,GAAIsC,SAnCrL,SAA0BT,GACxBL,EAAQK,EAAIU,OAAOF,UAmCjB,sBAAMjE,UAAU,uCAChB,uBAAO4D,GAAG,YAAYnC,KAAK,OAAOzB,UAAU,wCAAwC4B,KAAK,cAAciC,YAAY,oGAAoBC,UAAQ,EAACC,UAAU,IAAIC,UAAU,MAAMC,MAAOZ,GAAe,GAAIa,SAjC5M,SAAiCT,GAC/BH,EAAeG,EAAIU,OAAOF,UAiCxB,sBAAMjE,UAAU,0CCVPoE,MAnCf,SAAyBvE,GAEvB,IAAMwE,EAAYzD,IAAM0D,SAexB,OANA1D,IAAM2C,WAAU,WACT1D,EAAM6C,SACT2B,EAAUE,QAAQN,MAAQ,MAE3B,CAACpE,EAAM6C,SAGR,eAAC,EAAD,CACEd,KAAK,gBACLgB,MAAM,wFACNI,WAAW,yDACXD,kBAAkB,kEAClBS,YAAY,EACZd,OAAQ7C,EAAM6C,OACdO,QAASpD,EAAMoD,QACfN,SAtBJ,SAAsBc,GACpBA,EAAIC,iBACJ7D,EAAM2E,eAAe,CACnBtC,OAAQmC,EAAUE,QAAQN,SAoB1BnB,UAAWjD,EAAMiD,UATnB,UAWE,uBAAOc,GAAG,eAAenC,KAAK,MAAMzB,UAAU,oCAAoC4B,KAAK,OAAOiC,YAAY,qGAAqBY,IAAKJ,EAAWP,UAAQ,IACvJ,sBAAM9D,UAAU,6CCkBP0E,MAhDf,SAAuB7E,GAErB,MAAwBe,IAAMuC,SAAS,IAAvC,mBAAOvB,EAAP,KAAawB,EAAb,KACA,EAAwBxC,IAAMuC,SAAS,IAAvC,mBAAOxB,EAAP,KAAagD,EAAb,KAyBA,OAPA/D,IAAM2C,WAAU,WACT1D,EAAM6C,SACTU,EAAQ,IACRuB,EAAQ,OAET,CAAC9E,EAAM6C,SAGR,eAAC,EAAD,CACEd,KAAK,WACLgB,MAAM,gEACNI,WAAW,yDACXD,kBAAkB,kEAClBS,YAAY,EACZd,OAAQ7C,EAAM6C,OACdO,QAASpD,EAAMoD,QACfN,SAxBJ,SAAsBc,GACpBA,EAAIC,iBACJ7D,EAAMwC,WAAW,CACfT,KAAMA,EACND,KAAMA,KAqBNmB,UAAWjD,EAAMiD,UATnB,UAWE,uBAAOc,GAAG,cAAcnC,KAAK,OAAOzB,UAAU,qCAAqC4B,KAAK,QAAQiC,YAAY,mDAAWE,UAAU,IAAIC,UAAU,KAAKC,MAAOrC,EAAMsC,SAnCrK,SAA0BT,GACxBL,EAAQK,EAAIU,OAAOF,QAkC4KH,UAAQ,IACrM,sBAAM9D,UAAU,wCAChB,uBAAO4D,GAAG,aAAanC,KAAK,MAAMzB,UAAU,oCAAoC4B,KAAK,OAAOiC,YAAY,qGAAqBI,MAAOtC,EAAMuC,SAjC9I,SAA0BT,GACxBkB,EAAQlB,EAAIU,OAAOF,QAgCqJH,UAAQ,IAC9K,sBAAM9D,UAAU,2CCrBP4E,MAtBf,SAA4B/E,GAO1B,OACE,cAAC,EAAD,CACE+B,KAAK,iBACLgB,MAAM,2DACNI,WAAW,eACXD,kBAAkB,sDAClBS,YAAY,EACZV,UAAWjD,EAAMiD,UACjBJ,OAAQ7C,EAAM6C,OACdO,QAASpD,EAAMoD,QACfN,SAfJ,SAAsBc,GACpBA,EAAIC,iBACJ7D,EAAM6B,aAAa7B,EAAMqB,UCSd2D,MAdf,SAAoBhF,GAClB,OACE,qBAAKG,UAAWH,EAAMqB,KAAN,oDAAhB,SACE,sBAAKlB,UAAU,0BAAf,UACE,yBAAQA,UAAU,gBAAlB,UACE,qBAAKE,IAAKL,EAAMqB,KAAOrB,EAAMqB,KAAKS,KAAO,IAAKvB,IAAI,qEAAcJ,UAAU,iBAC1E,4BAAYA,UAAU,uBAAtB,SAA8CH,EAAMqB,KAAOrB,EAAMqB,KAAKU,KAAO,0EAE/E,wBAAQH,KAAK,SAASzB,UAAU,sBAAsB,aAAW,6CAAUQ,QAASX,EAAMoD,gBCwBnF6B,MAhCf,SAAejF,GAEb,MAA0Be,IAAMuC,SAAS,IAAzC,mBAAO7C,EAAP,KAAcyE,EAAd,KACA,EAAgCnE,IAAMuC,SAAS,IAA/C,mBAAO6B,EAAP,KAAiBC,EAAjB,KAeA,OACE,0BAASjF,UAAU,OAAnB,UACE,oBAAIA,UAAU,cAAd,sCACA,uBAAMA,UAAU,aAAa2C,SARjC,SAAsBc,GACpBA,EAAIC,iBACJ7D,EAAMqF,gBAAgB5E,EAAO0E,IAM3B,UACE,uBAAOpB,GAAG,cAAcnC,KAAK,QAAQzB,UAAU,qCAAqC4B,KAAK,QAAQiC,YAAY,QAAQI,MAAO3D,EAAO4D,SAjBzI,SAA2BT,GACzBsB,EAAStB,EAAIU,OAAOF,QAgBgJH,UAAQ,IACxK,sBAAM9D,UAAU,wCAChB,uBAAO4D,GAAG,iBAAiBnC,KAAK,WAAWzB,UAAU,wCAAwC4B,KAAK,WAAWiC,YAAY,uCAASE,UAAU,IAAIC,UAAU,KAAKC,MAAOe,EAAUd,SAftL,SAA8BT,GAC5BwB,EAAYxB,EAAIU,OAAOF,QAc6LH,UAAQ,IACxN,sBAAM9D,UAAU,2CAChB,wBAAQyB,KAAK,SAASzB,UAAU,sBAAhC,mDCaOmF,MAtCf,SAAkBtF,GAEhB,MAA0Be,IAAMuC,SAAS,IAAzC,mBAAO7C,EAAP,KAAcyE,EAAd,KACA,EAAgCnE,IAAMuC,SAAS,IAA/C,mBAAO6B,EAAP,KAAiBC,EAAjB,KAoBA,OALArE,IAAM2C,WAAU,WACdwB,EAAS,IACTE,EAAY,MACX,IAGD,0BAASjF,UAAU,OAAnB,UACE,oBAAIA,UAAU,cAAd,gFACA,uBAAMA,UAAU,aAAa2C,SAbjC,SAAsBc,GACpBA,EAAIC,iBACJ7D,EAAMuF,eAAe9E,EAAO0E,IAW1B,UACE,uBAAOpB,GAAG,cAAcnC,KAAK,QAAQzB,UAAU,qCAAqC4B,KAAK,QAAQiC,YAAY,QAAQI,MAAO3D,EAAO4D,SAtBzI,SAA2BT,GACzBsB,EAAStB,EAAIU,OAAOF,QAqBgJH,UAAQ,IACxK,sBAAM9D,UAAU,wCAChB,uBAAO4D,GAAG,iBAAiBnC,KAAK,WAAWzB,UAAU,wCAAwC4B,KAAK,WAAWiC,YAAY,uCAASE,UAAU,IAAIC,UAAU,KAAKC,MAAOe,EAAUd,SApBtL,SAA8BT,GAC5BwB,EAAYxB,EAAIU,OAAOF,QAmB6LH,UAAQ,IACxN,sBAAM9D,UAAU,2CAChB,wBAAQyB,KAAK,SAASzB,UAAU,sBAAhC,6HAEF,oBAAGA,UAAU,aAAb,kIAAgD,cAAC,IAAD,CAAMA,UAAU,aAAaO,GAAG,WAAhC,mDCpCvC,MAA0B,yCCA1B,MAA0B,uCCkB1B8E,MAdf,SAAqBxF,GACnB,OACE,qBAAKG,UAAWH,EAAM6C,OAAN,qDAAhB,SACE,sBAAK1C,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAsBE,IAAKL,EAAMyF,QAAUC,EAAcC,EAAWpF,IAAI,uEACvF,oBAAIJ,UAAU,wBAAd,SACGH,EAAMyF,QAAU,wKAAmC,wMAEtD,wBAAQ7D,KAAK,SAASzB,UAAU,sBAAsB,aAAW,6CAAUQ,QAASX,EAAMoD,gB,uBCLnFwC,EAJQ,SAAC,GAA4B,IAA1B5C,EAAyB,EAAzBA,SACxB,OADiD,iBACpCxC,SAAWwC,EAAW,cAAC,IAAD,CAAUtC,GAAG,c,gBC4FrCmF,EAAM,I,WA/FjB,WAAYC,GAAU,oBACpBC,KAAKC,KAAOF,EAAQG,IACpBF,KAAKG,SAAWJ,EAAQK,Q,mDAG1B,SAAgBC,GACd,OAAIA,EAAIC,GACCD,EAAIE,OAGNC,QAAQC,OAAR,gDAA0BJ,EAAIK,W,yBAGvC,WACE,OAAOC,MAAMX,KAAKC,KAAO,YAAa,CACpCG,QAASJ,KAAKG,WAEfS,KAAKZ,KAAKa,mB,yBAGb,SAAYC,GACV,OAAOH,MAAMX,KAAKC,KAAO,YAAa,CACpCc,OAAQ,QACRX,QAASJ,KAAKG,SACda,KAAMC,KAAKC,UAAU,CACnBlF,KAAM8E,EAAK9E,KACXQ,MAAOsE,EAAKtE,UAGfoE,KAAKZ,KAAKa,mB,6BAGb,WACE,OAAOF,MAAMX,KAAKC,KAAO,SAAU,CACjCG,QAASJ,KAAKG,WAEfS,KAAKZ,KAAKa,mB,sBAGb,SAASC,GACP,OAAOH,MAAMX,KAAKC,KAAO,SAAU,CACjCc,OAAQ,OACRX,QAASJ,KAAKG,SACda,KAAMC,KAAKC,UAAU,CACnBlF,KAAM8E,EAAK9E,KACXD,KAAM+E,EAAK/E,SAGd6E,KAAKZ,KAAKa,mB,wBAGb,SAAW7C,GACT,OAAO2C,MAAMX,KAAKC,KAAL,iBAAsBjC,GAAM,CACvC+C,OAAQ,SACRX,QAASJ,KAAKG,WAEfS,KAAKZ,KAAKa,mB,kCAGb,SAAqB7C,EAAImD,GACvB,OAAOR,MAAMX,KAAKC,KAAL,uBAA4BjC,GAAM,CAC7C+C,OAAO,GAAD,OAAKI,EAAU,MAAQ,UAC7Bf,QAASJ,KAAKG,WAEfS,KAAKZ,KAAKa,mB,qBAGb,SAAQ7C,GACN,OAAO2C,MAAMX,KAAKC,KAAL,uBAA4BjC,GAAM,CAC7C+C,OAAQ,MACRX,QAASJ,KAAKG,WAEfS,KAAKZ,KAAKa,mB,wBAGb,SAAW7C,GACT,OAAO2C,MAAMX,KAAKC,KAAL,uBAA4BjC,GAAM,CAC7C+C,OAAQ,SACRX,QAASJ,KAAKG,WAEfS,KAAKZ,KAAKa,mB,0BAGb,SAAaC,GACX,OAAOH,MAAMX,KAAKC,KAAO,mBAAoB,CAC3Cc,OAAQ,QACRX,QAASJ,KAAKG,SACda,KAAMC,KAAKC,UAAU,CACnB5E,OAAQwE,EAAKxE,WAGhBsE,KAAKZ,KAAKa,qB,KAII,CAAQ,CACzBX,IAAK,8CACLE,QAAS,CACPgB,cAAe,uCACf,eAAgB,sBCpGPC,EAAW,gCAExB,SAASC,EAAejB,GACtB,OAAIA,EAAIC,GACCD,EAAIE,OAGNC,QAAQC,OAAR,gDAA0BJ,EAAIK,SC8QxBa,MAnQf,WAEE,MAA4DvG,IAAMuC,UAAS,GAA3E,mBAAOiE,EAAP,KAA+BC,EAA/B,KACA,EAAsDzG,IAAMuC,UAAS,GAArE,mBAAOmE,EAAP,KAA4BC,EAA5B,KACA,EAA0D3G,IAAMuC,UAAS,GAAzE,mBAAOqE,EAAP,KAA8BC,EAA9B,KACA,EAAgE7G,IAAMuC,UAAS,GAA/E,mBAAOuE,EAAP,KAAiCC,EAAjC,KACA,EAAkD/G,IAAMuC,UAAS,GAAjE,mBAAOyE,EAAP,KAA0BC,EAA1B,KACA,EAAsDjH,IAAMuC,UAAS,GAArE,mBAAO2E,EAAP,KAA4BC,EAA5B,KACA,EAAwCnH,IAAMuC,SAAS,MAAvD,mBAAO6E,EAAP,KAAqBC,EAArB,KACA,EAAwCrH,IAAMuC,SAAS,MAAvD,mBAAO+E,EAAP,KAAqBC,EAArB,KACA,EAAsCvH,IAAMuC,SAAS,IAArD,oBAAOpC,GAAP,MAAoBqH,GAApB,MACA,GAA0BxH,IAAMuC,SAAS,IAAzC,qBAAOb,GAAP,MAAc+F,GAAd,MACA,GAAkCzH,IAAMuC,UAAS,GAAjD,qBAAOmF,GAAP,MAAkBC,GAAlB,MACA,GAAgC3H,IAAMuC,UAAS,GAA/C,qBAAO9C,GAAP,MAAiBmI,GAAjB,MACA,GAA0B5H,IAAMuC,SAAS,IAAzC,qBAAO7C,GAAP,MAAcyE,GAAd,MACM0D,GAAWC,cA4HjB,SAASC,KACPlB,GAAyB,GACzBJ,GAA0B,GAC1BE,GAAuB,GACvBI,GAA4B,GAC5BE,GAAqB,GACrBM,EAAgB,MAuDlB,OAvLAvH,IAAM2C,WAAU,WACdmC,EAAIkD,kBACDpC,MAAK,SAACE,GACL2B,GAAS3B,MAEVmC,OAAM,SAACC,GACNC,QAAQC,IAAIF,QAEf,IAEHlI,IAAM2C,WAAU,WACdmC,EAAIuD,cACDzC,MAAK,SAACE,GACL0B,GAAe1B,MAEhBmC,OAAM,SAACC,GACNC,QAAQC,IAAIF,QAEf,IA+FHlI,IAAM2C,WAAU,WACd,SAAS2F,EAAezF,GACN,WAAZA,EAAI0F,KACNR,KAGF,OADAS,SAASC,iBAAiB,UAAWH,GAC9B,kBAAME,SAASE,oBAAoB,UAAWJ,OAsCzDtI,IAAM2C,WAAU,YACd,WACE,IAAMgG,EAAQC,aAAaC,QAAQ,SAC/BF,GDnKgB,SAACA,GACzB,OAAOhD,MAAM,GAAD,OAAIU,EAAJ,aAAyB,CACnCN,OAAQ,MACRX,QAAS,CACP,eAAgB,mBAChB0D,cAAa,iBAAaH,MAG7B/C,KAAKU,GC4JAyC,CAAgBJ,GACf/C,MAAK,SAACP,GACDA,IACFlB,GAASkB,EAAIS,KAAKpG,OAClBkI,IAAY,GACZC,GAAS,SAGZI,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAIlBc,KACC,CAACnB,KASF,eAAC9H,EAAmBkJ,SAApB,CAA6B5F,MAAOlD,GAApC,UACE,cAAC,EAAD,CAAQV,SAAUA,GAAUC,MAAOA,GAAOG,UAR9C,WACE+I,aAAaM,WAAW,SACxBrB,GAAS,YACTD,IAAY,MAMV,eAAC,IAAD,WACE,cAAC,IAAD,CAAOuB,KAAK,WAAWC,QAAS,cAAC,EAAD,CAAU5E,eAxDhD,SAA4B9E,EAAO0E,ID5Jb,SAAC1E,EAAO0E,GAC9B,OAAOuB,MAAM,GAAD,OAAIU,EAAJ,WAAuB,CACjCN,OAAQ,OACRX,QAAS,CACP,eAAgB,oBAElBY,KAAMC,KAAKC,UAAU,CAAExG,QAAO0E,eAE/BwB,KAAKU,ICqJJyC,CAAcrJ,EAAO0E,GACpBwB,MAAK,WACJ+B,IAAa,GACbV,GAAqB,GACrBY,GAAS,eAEVI,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZP,IAAa,GACbV,GAAqB,WA+CnB,cAAC,IAAD,CAAOkC,KAAK,WAAWC,QAAS,cAAC,EAAD,CAAO9E,gBA3C7C,SAA6B5E,EAAO0E,ID/Jb,SAAC1E,EAAO0E,GAC/B,OAAOuB,MAAM,GAAD,OAAIU,EAAJ,WAAuB,CACjCN,OAAQ,OACRX,QAAS,CACP,eAAgB,oBAElBY,KAAMC,KAAKC,UAAU,CAAExG,QAAO0E,eAE/BwB,KAAKU,ICwJJyC,CAAerJ,EAAO0E,GACrBwB,MAAK,SAACP,GACLuC,IAAY,GACZC,GAAS,KACTe,aAAaS,QAAQ,QAAShE,EAAIsD,UAEnCV,OAAM,SAACC,GACNC,QAAQC,IAAIF,WAoCV,cAAC,IAAD,CAAOiB,KAAK,IAAIC,QACd,cAAC,EAAD,CAAgB3J,SAAUA,GAA1B,SACE,cAAC,EAAD,CACE8B,cA5FZ,WACEkF,GAA0B,IA4FhBhF,WAzFZ,WACEkF,GAAuB,IAyFbtF,aAlGZ,WACEwF,GAAyB,IAkGf5F,YAvGZ,SAAyBX,GACvBiH,EAAgBjH,IAuGNY,WAjKZ,SAAwBZ,GACtB,IAAM6F,EAAU7F,EAAKI,MAAMC,MAAK,SAAA2I,GAAC,OAAIA,EAAE9I,MAAQL,GAAYK,OAE3DsE,EAAIyE,qBAAqBjJ,EAAKE,KAAM2F,GACjCP,MAAK,SAAC4D,GACL/B,IAAS,SAACgC,GAAD,OAAWA,EAAM9H,KAAI,SAAC+H,GAAD,OAAOA,EAAElJ,MAAQF,EAAKE,IAAMgJ,EAAUE,WAErEzB,OAAM,SAACC,GACNC,QAAQC,IAAIF,OA0JNpH,aAzFZ,SAAkCR,GAChC+G,EAAgB/G,GAChByG,GAA4B,IAwFlBrF,MAAOA,YAKf,cAAC,EAAD,IACA,cAAC,EAAD,CACEI,OAAQ0E,EACRnE,QAAS0F,GACThF,aAjJN,SAA0B+C,GACxBqB,GAAuB,GACvBrC,EAAI6E,YAAY7D,GACbF,MAAK,SAACE,GACL0B,GAAe1B,GACfiC,QAEDE,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAEb0B,SAAQ,WACPzC,GAAuB,OAuIvBjF,UAAWgF,IAEb,cAAC,EAAD,CACEpF,OAAQ4E,EACRrE,QAAS0F,GACTtG,WAjMN,SAA8BqE,GAC5BqB,GAAuB,GACvBrC,EAAI+E,SAAS/D,GACVF,MAAK,SAAC4D,GACL/B,GAAS,CAAC+B,GAAF,mBAAc9H,MACtBqG,QAEDE,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAEb0B,SAAQ,WACPzC,GAAuB,OAuLvBjF,UAAWgF,IAEb,cAAC,EAAD,CACEpF,OAAQ8E,EACRvE,QAAS0F,GACTnE,eA9IN,SAA4BkC,GAC1BqB,GAAuB,GACvBrC,EAAIgF,aAAahE,GACdF,MAAK,SAACE,GACL0B,GAAe1B,GACfiC,QAEDE,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAEb0B,SAAQ,WACPzC,GAAuB,OAoIvBjF,UAAWgF,IAEb,cAAC,EAAD,CACE5G,KAAMgH,EACNjF,QAAS0F,KAEX,cAAC,EAAD,CACEjG,OAAQgF,EACRzE,QAAS0F,GACTjH,aAtLN,SAA0BR,GACxB6G,GAAuB,GACvBrC,EAAIiF,WAAWzJ,EAAKE,KACjBoF,MAAK,WACJ6B,IAAS,SAAC/F,GAAD,OAAWA,EAAMsI,QAAO,SAACN,GAAD,OAAOA,EAAElJ,MAAQF,EAAKE,UACvDuH,QAEDE,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAEb0B,SAAQ,WACPzC,GAAuB,OA4KvB7G,KAAM8G,EACNlF,UAAWgF,IAEb,cAAC,EAAD,CACEpF,OAAQkF,EACR3E,QAAS0F,GACTrD,QAASgD,SCnQFuC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBvE,MAAK,YAAkD,IAA/CwE,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJnC,SAASoC,eAAe,SAM1BX,M","file":"static/js/main.41a7e712.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.1f1e9591.svg\";","import React from 'react';\r\nimport { useLocation, Link } from 'react-router-dom';\r\nimport logo from '../images/header-logo.svg';\r\n\r\nfunction Header(props) {\r\n  const location = useLocation();\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <a href=\"https://Lattecup.github.io/react-mesto-auth/\">\r\n        <img src={logo} className=\"header__logo\" alt=\"Логотип\" />\r\n      </a>\r\n      {props.loggedIn ? (\r\n        <div className=\"header__content\">\r\n          <p className=\"header__email\">{props.email}</p>\r\n          <Link className=\"header__link header__link_signout\" to=\"/sign-in\" onClick={props.onSignOut}>Выйти</Link>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {location.pathname === \"/sign-in\" ?\r\n            <Link className=\"header__link\" to=\"/sign-up\">Регистрация</Link> :\r\n            <Link className=\"header__link\" to=\"/sign-in\">Войти</Link>\r\n          }\r\n        </>\r\n      )\r\n      }\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = isOwn ? 'card__remove-button card__remove-button_active' : 'card__remove-button';\r\n  const isLiked = props.card.likes.some(like => like._id === currentUser._id);\r\n  const cardLikeButtonClassName = isLiked ? 'card__like-button card__like-button_active' : 'card__like-button'; \r\n\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  };\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  };\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  };\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <button type=\"button\" onClick={handleDeleteClick} className={cardDeleteButtonClassName} aria-label=\"Удалить карточку\" />\r\n      <img src={props.card.link} alt={props.card.name} className=\"card__image\" onClick={handleClick} />\r\n      <div className=\"card__content\">\r\n        <h2 className=\"card__caption\">{props.card.name}</h2>\r\n        <div className=\"card__like-container\">\r\n          <button type=\"button\" onClick={handleLikeClick} className={cardLikeButtonClassName} aria-label=\"Поставить лайк\" />\r\n          <span className=\"card__like-counter\">{props.card.likes.length}</span>          \r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Card from './Card';\r\n\r\nfunction Main(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      \r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar-container\">\r\n          <button type=\"button\" className=\"profile__avatar-change-button\" aria-label=\"Изменить аватар\" onClick={props.onEditAvatar} />\r\n          <img alt=\"Аватар\" className=\"profile__avatar\" src={currentUser.avatar} />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n          <button type=\"button\" className=\"profile__edit-button\" aria-label=\"Редактировать профиль\" onClick={props.onEditProfile} />\r\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n        </div>\r\n        <button type=\"button\" className=\"profile__add-button\" aria-label=\"Добавить фотографию\" onClick={props.onAddPlace} />\r\n      </section>\r\n\r\n      <section className=\"cards\">\r\n        {props.cards.map((card) => (\r\n          <Card \r\n            key={card._id}\r\n            card={card}\r\n            onCardClick={props.onCardClick}\r\n            onCardLike={props.onCardLike}\r\n            onCardDelete={props.onCardDelete}\r\n          />\r\n        ))};\r\n      </section>\r\n\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div className={props.isOpen ? `popup popup_opened` : `popup popup_type_${props.name}`}>\r\n      <div className=\"popup__container\">\r\n        <form className=\"form form-edit\" name={props.name} onSubmit={props.onSubmit}>\r\n          <h2 className=\"form__heading\">{props.title}</h2>\r\n          {props.children}\r\n          <button type=\"submit\" className=\"form__submit-button\">{props.isLoading ? props.loadingButtonText : props.buttonText}</button>\r\n        </form>\r\n        <button type=\"button\" className=\"popup__close-button\" aria-label=\"Закрыть\" onClick={props.onClose} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleChangeName(evt) {\r\n    setName(evt.target.value);\r\n  };\r\n\r\n  function handleChangeDescription(evt) {\r\n    setDescription(evt.target.value);\r\n  };\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (currentUser) {\r\n      setName(currentUser.name)\r\n      setDescription(currentUser.about)\r\n    };\r\n  }, [currentUser]);\r\n\r\n   return (\r\n    <PopupWithForm \r\n      name=\"edit-profile\"\r\n      title=\"Редактировать профиль\"\r\n      buttonText='Сохранить'\r\n      loadingButtonText='Сохранение...'\r\n      buttonHide={false}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      isLoading={props.isLoading}\r\n    >\r\n      <input id=\"name-input\" type=\"text\" className=\"form__input form__input_type_title\" name=\"name\" placeholder=\"Введите имя\" required minLength=\"2\" maxLength=\"40\" value={name || ''} onChange={handleChangeName} />\r\n      <span className=\"form__input-error name-input-error\"></span>\r\n      <input id=\"job-input\" type=\"text\" className=\"form__input form__input_type_subtitle\" name=\"description\" placeholder=\"Введите профессию\" required minLength=\"2\" maxLength=\"200\" value={description || ''} onChange={handleChangeDescription} />\r\n      <span className=\"form__input-error job-input-error\"></span>\r\n  </PopupWithForm>\r\n  )\r\n};\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value\r\n    });\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (!props.isOpen) {\r\n      avatarRef.current.value = '';\r\n    };\r\n  }, [props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"change-avatar\"\r\n      title=\"Обновить аватар\"\r\n      buttonText='Сохранить'\r\n      loadingButtonText='Сохранение...'\r\n      buttonHide={false}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      isLoading={props.isLoading}\r\n    >\r\n      <input id=\"avatar-input\" type=\"url\" className=\"form__input form__input_type_link\" name=\"link\" placeholder=\"Ссылка на картинку\" ref={avatarRef} required />\r\n      <span className=\"form__input-error avatar-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleChangeName(evt) {\r\n    setName(evt.target.value);\r\n  };\r\n\r\n  function handleChangeLink(evt) {\r\n    setLink(evt.target.value);\r\n  };\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onAddPlace({\r\n      name: name,\r\n      link: link\r\n    });\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (!props.isOpen) {\r\n      setName('');\r\n      setLink('');    \r\n    };\r\n  }, [props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add-card\"\r\n      title=\"Новое место\"\r\n      buttonText='Сохранить'\r\n      loadingButtonText='Сохранение...'\r\n      buttonHide={false}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      isLoading={props.isLoading}\r\n    >\r\n      <input id=\"place-input\" type=\"text\" className=\"form__input form__input_type_place\" name=\"place\" placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" value={name} onChange={handleChangeName} required />\r\n      <span className=\"form__input-error place-input-error\"></span>\r\n      <input id=\"link-input\" type=\"url\" className=\"form__input form__input_type_link\" name=\"link\" placeholder=\"Ссылка на картинку\" value={link} onChange={handleChangeLink} required />\r\n      <span className=\"form__input-error link-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default AddPlacePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction ConfirmDeletePopup(props) {\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onCardDelete(props.card);\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"confirm-delete\"\r\n      title=\"Вы уверены?\"\r\n      buttonText=\"Да\"\r\n      loadingButtonText='Удаление...'\r\n      buttonHide={false}\r\n      isLoading={props.isLoading}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ConfirmDeletePopup;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <div className={props.card ? `popup popup_opened` : `popup popup popup_type_image`}>\r\n      <div className=\"popup__figure-container\">\r\n        <figure className=\"popup__figure\">\r\n          <img src={props.card ? props.card.link : '#'} alt=\"Изображение\" className=\"popup__image\" />\r\n          <figcaption className=\"popup__image-caption\">{props.card ? props.card.name : 'Изображение'}</figcaption>\r\n        </figure>\r\n        <button type=\"button\" className=\"popup__close-button\" aria-label=\"Закрыть\" onClick={props.onClose}></button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImagePopup;","import React from 'react';\r\n\r\nfunction Login(props) {\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handleChangeEmail(evt) {\r\n    setEmail(evt.target.value);\r\n  };\r\n\r\n  function handleChangePassword(evt) {\r\n    setPassword(evt.target.value);\r\n  };\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onAuthorization(email, password);\r\n  };\r\n\r\n  return (\r\n    <section className=\"auth\">\r\n      <h2 className=\"auth__title\">Вход</h2>\r\n      <form className=\"auth__form\" onSubmit={handleSubmit}>\r\n        <input id=\"email-input\" type=\"email\" className=\"auth__input auth__input_type_email\" name=\"email\" placeholder=\"Email\" value={email} onChange={handleChangeEmail} required />\r\n        <span className=\"auth__input-error email-input-error\"></span>\r\n        <input id=\"password-input\" type=\"password\" className=\"auth__input auth__input_type_password\" name=\"password\" placeholder=\"Пароль\" minLength=\"6\" maxLength=\"20\" value={password} onChange={handleChangePassword} required />\r\n        <span className=\"auth__input-error password-input-error\"></span>\r\n        <button type=\"submit\" className=\"auth__submit-button\">Войти</button>\r\n      </form>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Login;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Register(props) {\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handleChangeEmail(evt) {\r\n    setEmail(evt.target.value);\r\n  };\r\n\r\n  function handleChangePassword(evt) {\r\n    setPassword(evt.target.value);\r\n  };\r\n  \r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onRegistration(email, password);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    setEmail('');\r\n    setPassword('');\r\n  }, []);\r\n\r\n  return (\r\n    <section className=\"auth\">\r\n      <h2 className=\"auth__title\">Регистрация</h2>\r\n      <form className=\"auth__form\" onSubmit={handleSubmit}>\r\n        <input id=\"email-input\" type=\"email\" className=\"auth__input auth__input_type_email\" name=\"email\" placeholder=\"Email\" value={email} onChange={handleChangeEmail} required />\r\n        <span className=\"auth__input-error email-input-error\"></span>\r\n        <input id=\"password-input\" type=\"password\" className=\"auth__input auth__input_type_password\" name=\"password\" placeholder=\"Пароль\" minLength=\"6\" maxLength=\"20\" value={password} onChange={handleChangePassword} required />\r\n        <span className=\"auth__input-error password-input-error\"></span>\r\n        <button type=\"submit\" className=\"auth__submit-button\">Зарегистрироваться</button>\r\n      </form>\r\n      <p className=\"auth__text\">Уже зарегистрированы? <Link className=\"auth__link\" to=\"/sign-in\">Войти</Link></p>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Register;","export default __webpack_public_path__ + \"static/media/success-icon.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error-icon.df8eddf6.svg\";","import React from \"react\";\r\nimport successIcon from '../images/success-icon.svg';\r\nimport errorIcon from '../images/error-icon.svg'\r\n\r\nfunction InfoTooltip(props) {\r\n  return (\r\n    <div className={props.isOpen ? `popup popup_opened` : `popup popup_type_info-tooltip`}>\r\n      <div className=\"popup__container\">\r\n        <img className=\"popup__image-status\" src={props.onState ? successIcon : errorIcon} alt=\"Уведомление\" />\r\n        <h2 className=\"popup__message-status\">\r\n          {props.onState ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}\r\n        </h2>\r\n        <button type=\"button\" className=\"popup__close-button\" aria-label=\"Закрыть\" onClick={props.onClose} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InfoTooltip;","import React from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ children, ...props }) => {\r\n  return props.loggedIn ? children : <Navigate to=\"/sign-in\" />;\r\n};\r\n\r\nexport default ProtectedRoute;","class Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  };\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    };\n\n    return Promise.reject(`Ошибка: ${res.status}`);\n  };\n\n  getUserInfo() {\n    return fetch(this._url + '/users/me', {\n      headers: this._headers,\n    })\n    .then(this._handleResponse);\n  };\n\n  setUserInfo(data) {\n    return fetch(this._url + '/users/me', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n    .then(this._handleResponse);\n  };\n\n  getInitialCards() {\n    return fetch(this._url + '/cards', {\n      headers: this._headers,\n    })\n    .then(this._handleResponse);\n  };\n\n  postCard(data) {\n    return fetch(this._url + '/cards', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n    .then(this._handleResponse);\n  };\n\n  removeCard(id) {\n    return fetch(this._url + `/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n    .then(this._handleResponse);\n  };\n\n  changeLikeCardStatus(id, isLiked) {\n    return fetch(this._url + `/cards/likes/${id}`, {\n      method: `${isLiked ? 'PUT' : 'DELETE'}`,\n      headers: this._headers,\n    })\n    .then(this._handleResponse);\n  };\n\n  setLike(id) {\n    return fetch(this._url + `/cards/likes/${id}`, {\n      method: 'PUT',\n      headers: this._headers,\n    })\n    .then(this._handleResponse);\n  };\n\n  removeLike(id) {\n    return fetch(this._url + `/cards/likes/${id}`, {\n      method: 'DELETE',\n      headers: this._headers, \n    })\n    .then(this._handleResponse);\n  };\n\n  changeAvatar(data) {\n    return fetch(this._url + '/users/me/avatar', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar,\n      })\n    })\n    .then(this._handleResponse);\n  };\n};\n\nexport const api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-28',\n  headers: {\n    authorization: 'd5f4b13b-5ee9-4277-b0be-f215cd379279',\n    'Content-Type': 'application/json'\n  }\n});","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nfunction handleResponse(res) {\r\n  if (res.ok) {\r\n    return res.json();\r\n  };\r\n\r\n  return Promise.reject(`Ошибка: ${res.status}`);\r\n};\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n  .then(handleResponse);\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n  .then(handleResponse);\r\n};\r\n\r\nexport const checkToken = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization : `Bearer ${token}`,\r\n    },\r\n  })\r\n  .then(handleResponse);\r\n};","import React from 'react';\nimport { Routes, Route, useNavigate } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ConfirmDeletePopup from './ConfirmDeletePopup';\nimport ImagePopup from './ImagePopup';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from './ProtectedRoute';\nimport { api } from '../utils/Api';\nimport * as auth from '../utils/auth';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isConfirmDeletePopupOpen, setIsConfirmDeletePopupOpen] = React.useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n  const [isLoadingButtontext, setIsLoadingButtontext] = React.useState(false);\n  const [cardToRemove, setCardToRemove] = React.useState(null);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [isSuccess, setIsSuccess] = React.useState(false);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [email, setEmail] = React.useState('');\n  const navigate = useNavigate();\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then((data) => {\n        setCards(data)\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((data) => {\n        setCurrentUser(data)\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleAddPlaceSubmit(data) {\n    setIsLoadingButtontext(true);\n    api.postCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoadingButtontext(false);\n      });\n  };\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c))\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  function handleCardDelete(card) {\n    setIsLoadingButtontext(true);\n    api.removeCard(card._id)\n      .then(() => {\n        setCards((cards) => cards.filter((c) => c._id !== card._id))\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoadingButtontext(false);\n      });\n  };\n\n  function handleUpdateUser(data) {\n    setIsLoadingButtontext(true);\n    api.setUserInfo(data)\n      .then((data) => {\n        setCurrentUser(data)\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoadingButtontext(false);\n      });\n  };\n\n  function handleUpdateAvatar(data) {\n    setIsLoadingButtontext(true);\n    api.changeAvatar(data)\n      .then((data) => {\n        setCurrentUser(data)\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoadingButtontext(false);\n      });\n  };\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  };\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true)\n  };\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true)\n  };\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true)\n  };\n\n  function handleConfirmDeleteClick(card) {\n    setCardToRemove(card);\n    setIsConfirmDeletePopupOpen(true);\n  };\n\n  React.useEffect(() => {\n    function handleEscClose(evt) {\n      if (evt.key === 'Escape') \n        closeAllPopups();\n      };\n      document.addEventListener('keydown', handleEscClose);\n      return () => document.removeEventListener('keydown', handleEscClose);\n  });\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsConfirmDeletePopupOpen(false);\n    setIsInfoTooltipOpen(false);\n    setSelectedCard(null);\n  };\n\n  function handleRegistration(email, password) {\n    auth.register(email, password)\n    .then(() => {\n      setIsSuccess(true);\n      setIsInfoTooltipOpen(true);\n      navigate('/sign-in');\n    })\n    .catch((err) => {\n      console.log(err);\n      setIsSuccess(false);\n      setIsInfoTooltipOpen(true);\n    });\n  };\n\n  function handleAuthorization(email, password) {\n    auth.authorize(email, password)\n    .then((res) => {\n      setLoggedIn(true);\n      navigate('/');\n      localStorage.setItem('token', res.token);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  };\n\n  React.useEffect(() => {\n    function handleTokenCheck() {\n      const token = localStorage.getItem('token');\n      if (token) {\n        auth.checkToken(token)\n        .then((res) => {\n          if (res) {\n            setEmail(res.data.email);\n            setLoggedIn(true);\n            navigate('/');\n          };\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n      };\n    };\n    handleTokenCheck();\n  }, [navigate]);\n\n  function handleSignOut() {\n    localStorage.removeItem('token');\n    navigate('/sign-in');\n    setLoggedIn(false);\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header loggedIn={loggedIn} email={email} onSignOut={handleSignOut}/>\n      <Routes>\n        <Route path=\"/sign-up\" element={<Register onRegistration={handleRegistration} />} />\n        <Route path=\"/sign-in\" element={<Login onAuthorization={handleAuthorization} />} />\n        <Route path=\"/\" element={\n          <ProtectedRoute loggedIn={loggedIn}>\n            <Main\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n              onCardLike={handleCardLike}\n              onCardDelete={handleConfirmDeleteClick}\n              cards={cards}\n            />\n          </ProtectedRoute>\n        } />\n      </Routes>\n      <Footer />\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n        isLoading={isLoadingButtontext}\n      /> \n      <AddPlacePopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onAddPlace={handleAddPlaceSubmit}\n        isLoading={isLoadingButtontext}\n      />\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n        isLoading={isLoadingButtontext}\n      /> \n      <ImagePopup \n        card={selectedCard}\n        onClose={closeAllPopups}\n      />\n      <ConfirmDeletePopup\n        isOpen={isConfirmDeletePopupOpen}\n        onClose={closeAllPopups}\n        onCardDelete={handleCardDelete}\n        card={cardToRemove}\n        isLoading={isLoadingButtontext}\n      />\n      <InfoTooltip\n        isOpen={isInfoTooltipOpen}\n        onClose={closeAllPopups}\n        onState={isSuccess}\n      />\n  </CurrentUserContext.Provider>\n  );\n};\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}